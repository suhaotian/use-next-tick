<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/jpeg" href="./logo.jpg" />
    <title>
      useNextTick - React Hook to Run Code After DOM Updates | Post-Render
      Callbacks
    </title>
    <meta
      name="description"
      content="A tiny React hook for running callbacks after the DOM or native views have updated." />
  </head>
  <body>
    <div id="root">
      <div class="flex min-h-screen min-h-[100dvh] flex-col bg-gray-950 text-gray-100"><header class="border-b border-gray-800 px-8 py-4"><div class="mx-auto flex max-w-3xl items-center justify-between"><h1 class="text-lg font-bold tracking-tight text-indigo-400">use-next-tick</h1><div class="flex items-center gap-3 "><a href="https://www.npmjs.com/package/use-next-tick" target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 rounded-md bg-gray-800 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-700 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package h-4 w-4" aria-hidden="true"><path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"></path><path d="M12 22V12"></path><polyline points="3.29 7 12 12 20.71 7"></polyline><path d="m7.5 4.27 9 5.15"></path></svg>npm</a><a href="https://github.com/suhaotian/use-next-tick" target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 rounded-md bg-gray-800 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-700 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-4 w-4" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>GitHub</a></div></div></header><main class="flex-1"><section class="border-b border-gray-800 px-8 py-20"><div class="mx-auto max-w-3xl"><div class="mb-3 inline-block rounded-full border border-indigo-800 bg-indigo-950 px-3 py-1 text-xs font-medium text-indigo-300">React Hook</div><h2 class="mb-4 text-5xl font-extrabold tracking-tight text-indigo-400">use-next-tick</h2><p class="mb-8 max-w-lg text-lg leading-relaxed text-gray-400">A tiny React hook for running callbacks after the DOM or native views have updated.</p><h3 class="mb-4 text-3xl font-extrabold tracking-tight text-white">Why?</h3><p class="mb-8 max-w-lg text-lg leading-relaxed text-gray-400">Sometimes you need to read layout, measure elements, or access refs <strong>right after</strong> a state change—but React updates asynchronously. <code class="text-indigo-400">useNextTick</code> gives you a simple way to schedule code that runs after React commits your changes.</p><div class="flex items-center gap-3"><div class="rounded-lg border border-gray-800 bg-gray-900 px-4 py-2.5 font-mono text-sm text-gray-300">npm i use-next-tick</div><a href="https://github.com/suhaotian/use-next-tick" target="_blank" rel="noopener noreferrer" class="rounded-lg bg-indigo-600 px-2 md:px-5 py-2.5 text-sm font-medium text-white transition-colors hover:bg-indigo-500">Get Started</a></div></div></section><section class="border-b border-gray-800 px-8 py-16"><div class="mx-auto max-w-3xl space-y-8"><h3 class="text-2xl font-bold tracking-tight text-white">Usage</h3><div class="group relative rounded-lg border border-gray-800 bg-gray-900"><div class="border-b border-gray-800 px-4 py-2"><span class="text-xs font-medium uppercase tracking-wider text-gray-500">basic Usage — read DOM after state update</span></div><button class="absolute right-3 top-2.5 rounded-md p-1.5 text-gray-500 opacity-0 transition-all hover:bg-gray-800 hover:text-gray-300 group-hover:opacity-100" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><pre class="overflow-x-auto p-4 text-sm leading-relaxed text-gray-300"><code>import { useState, useRef } from "react";
import useNextTick from "use-next-tick";

function MyComponent() {
  const [count, setCount] = useState(0);
  const ref = useRef&lt;HTMLSpanElement&gt;(null);
  const nextTick = useNextTick();

  const handleClick = () =&gt; {
    setCount((c) =&gt; c + 1);
    nextTick(() =&gt; {
      console.log(ref.current?.textContent); // "1" ✓
    });
  };

  return &lt;span ref={ref}&gt;{count}&lt;/span&gt;;
}</code></pre></div><div class="group relative rounded-lg border border-gray-800 bg-gray-900"><div class="border-b border-gray-800 px-4 py-2"><span class="text-xs font-medium uppercase tracking-wider text-gray-500">Without next tick — read DOM after state update.</span></div><button class="absolute right-3 top-2.5 rounded-md p-1.5 text-gray-500 opacity-0 transition-all hover:bg-gray-800 hover:text-gray-300 group-hover:opacity-100" aria-label="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button><pre class="overflow-x-auto p-4 text-sm leading-relaxed text-gray-300"><code>import { useState, useRef } from "react";

function MyComponent() {
  const [count, setCount] = useState(0);
  const ref = useRef&lt;HTMLSpanElement&gt;(null);

  const handleClick = () =&gt; {
    setCount((c) =&gt; c + 1);
  };

  // We need extra useEffect
  useEffect(() =&gt; {
    console.log(ref.current?.textContent);
  }, [count]);

  return &lt;span ref={ref}&gt;{count}&lt;/span&gt;;
}</code></pre></div></div></section><section class="px-8 py-16"><div class="mx-auto max-w-3xl space-y-6"><h3 class="text-2xl font-bold tracking-tight text-white">Playground</h3><p class="text-sm text-gray-400">Click the buttons to see nextTick callbacks read the committed DOM.</p><div class="rounded-lg border border-gray-800 bg-gray-900 p-4"><p class="text-sm text-gray-400">Counter</p><span data-testid="counter" class="font-mono text-4xl font-semibold text-white">14</span></div><ul class="flex gap-2"><li data-testid="item-0" class="rounded-md bg-gray-800 px-4 py-2 font-mono text-sm">A</li><li data-testid="item-1" class="rounded-md bg-gray-800 px-4 py-2 font-mono text-sm">B</li><li data-testid="item-2" class="rounded-md bg-gray-800 px-4 py-2 font-mono text-sm">C</li></ul><div class="flex flex-wrap gap-2"><button data-testid="increment" class="rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-indigo-500 active:bg-indigo-700">Increment</button><button data-testid="async" class="rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-indigo-500 active:bg-indigo-700">Async</button><button data-testid="toggle" class="rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-indigo-500 active:bg-indigo-700">Toggle</button><button data-testid="reverse" class="rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-indigo-500 active:bg-indigo-700">Reverse</button><button data-testid="chain" class="rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-indigo-500 active:bg-indigo-700">Chain</button></div><div class="rounded-lg border border-gray-800 bg-gray-900 p-4"><div class="mb-2 flex items-center justify-between"><p class="text-sm font-medium text-gray-400">Logs</p><button class="text-xs text-gray-500 transition-colors hover:text-gray-300">Clear</button></div><ul data-testid="logs" class="space-y-1"><li data-testid="log-0" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">tick:1</li><li data-testid="log-1" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">tick:2</li><li data-testid="log-2" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">tick:3</li><li data-testid="log-3" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">tick:4</li><li data-testid="log-4" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">tick:5</li><li data-testid="log-5" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">tick:6</li><li data-testid="log-6" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">tick:7</li><li data-testid="log-7" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">tick:8</li><li data-testid="log-8" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">async:done</li><li data-testid="log-9" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">async:done</li><li data-testid="log-10" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">order:C,B,A</li><li data-testid="log-11" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">order:A,B,C</li><li data-testid="log-12" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">order:C,B,A</li><li data-testid="log-13" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">order:A,B,C</li><li data-testid="log-14" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">chain:1:11</li><li data-testid="log-15" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">chain:2:12</li><li data-testid="log-16" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">chain:1:13</li><li data-testid="log-17" class="rounded bg-gray-800 px-3 py-1.5 font-mono text-sm text-amber-300">chain:2:14</li></ul></div></div></section></main><section class="border-t border-gray-800 px-8 py-16"><div class="mx-auto max-w-3xl"><h3 class="mb-8 text-2xl font-bold tracking-tight text-white">Other Projects</h3><div class="grid gap-4 sm:grid-cols-2"><div class="group rounded-lg border border-gray-800 bg-gray-900 p-5 transition-colors hover:border-gray-700"><h4 class="mb-1.5 font-mono text-base font-semibold text-white">xior</h4><p class="mb-4 text-sm leading-relaxed text-gray-400">Lightweight HTTP request library based on fetch with plugin support and similar API to axios.</p><div class="flex items-center gap-3"><a href="https://www.npmjs.com/package/xior" target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 text-xs text-gray-500 transition-colors hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package h-3.5 w-3.5" aria-hidden="true"><path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"></path><path d="M12 22V12"></path><polyline points="3.29 7 12 12 20.71 7"></polyline><path d="m7.5 4.27 9 5.15"></path></svg>npm</a><a href="https://github.com/suhaotian/xior" target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 text-xs text-gray-500 transition-colors hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-3.5 w-3.5" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>GitHub</a></div></div><div class="group rounded-lg border border-gray-800 bg-gray-900 p-5 transition-colors hover:border-gray-700"><h4 class="mb-1.5 font-mono text-base font-semibold text-white">tsdk</h4><p class="mb-4 text-sm leading-relaxed text-gray-400">Type-safe API development CLI tool for TypeScript projects.</p><div class="flex items-center gap-3"><a href="https://www.npmjs.com/package/tsdk" target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 text-xs text-gray-500 transition-colors hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package h-3.5 w-3.5" aria-hidden="true"><path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"></path><path d="M12 22V12"></path><polyline points="3.29 7 12 12 20.71 7"></polyline><path d="m7.5 4.27 9 5.15"></path></svg>npm</a><a href="https://github.com/tsdk-monorepo/tsdk" target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 text-xs text-gray-500 transition-colors hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-3.5 w-3.5" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>GitHub</a></div></div><div class="group rounded-lg border border-gray-800 bg-gray-900 p-5 transition-colors hover:border-gray-700"><h4 class="mb-1.5 font-mono text-base font-semibold text-white">broad-infinite-list</h4><p class="mb-4 text-sm leading-relaxed text-gray-400">High performance and bidirectional scrolling infinite list component for React, Vue 3 and React Native, good for large list rendering.</p><div class="flex items-center gap-3"><a href="https://www.npmjs.com/package/broad-infinite-list" target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 text-xs text-gray-500 transition-colors hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package h-3.5 w-3.5" aria-hidden="true"><path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"></path><path d="M12 22V12"></path><polyline points="3.29 7 12 12 20.71 7"></polyline><path d="m7.5 4.27 9 5.15"></path></svg>npm</a><a href="https://github.com/suhaotian/broad-infinite-list" target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 text-xs text-gray-500 transition-colors hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-3.5 w-3.5" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>GitHub</a></div></div></div></div></section><footer class="border-t border-gray-800 px-8 py-4"><div class="mx-auto flex max-w-3xl items-center justify-between"><p class="text-sm text-gray-500">use-next-tick</p><div class="flex items-center gap-3 "><a href="https://www.npmjs.com/package/use-next-tick" target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 rounded-md bg-gray-800 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-700 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package h-4 w-4" aria-hidden="true"><path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"></path><path d="M12 22V12"></path><polyline points="3.29 7 12 12 20.71 7"></polyline><path d="m7.5 4.27 9 5.15"></path></svg>npm</a><a href="https://github.com/suhaotian/use-next-tick" target="_blank" rel="noopener noreferrer" class="flex items-center gap-1.5 rounded-md bg-gray-800 px-3 py-1.5 text-sm text-gray-300 transition-colors hover:bg-gray-700 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-4 w-4" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>GitHub</a></div></div></footer></div>
    </div>
    <script type="module" src="./frontend.tsx"></script>
  </body>
</html>
